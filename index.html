<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Forum · Skeleton Feed</title>
	<!-- 提前下载 app.js，但不阻塞 FCP/LCP -->
	<link rel="preload" href="app.js" as="script">
	<script>
		(function() {
		// 检查浏览器是否支持 preload
		const supportsPreload = document.createElement("link").relList?.supports?.("preload");
		
		if (supportsPreload) {
		  // DOM 树解析完就执行（不阻塞 FCP/LCP）
		  window.addEventListener("DOMContentLoaded", () => {
		    const s = document.createElement("script");
		    s.src = "app.js";
		    s.defer = true;   // 避免阻塞
		    document.body.appendChild(s);
		});
		} else {
		  // 回退方案：等到 onload 再加载
		  window.addEventListener("load", () => {
		    const s = document.createElement("script");
		    s.src = "app.js";
		    s.defer = true;
		    document.body.appendChild(s);
		  });
		}
		})();
	</script>
	<style>
		/* ====================
		   全局主题变量
		==================== */
		:root {
		  --bg: #ffffff;
		  --text: #111827;
		  --muted: #6b7280;
		  --border: #e5e7eb;
		  --primary: #3b82f6;
		
		  --card: #ffffff;
		  --shadow: 0 2px 8px rgba(0,0,0,.04);
		
		  --skel: #f3f4f6;
		  --radius: 16px;
		  --radius-pill: 999px;
		  --col-sidebar: 260px;
		  --col-feed: 840px;
		  --topbar-h: 64px;
		}
		
		/* ====================
		   全局 Reset
		==================== */
		* { box-sizing: border-box; }
		html, body {
		  height: 100%; margin: 0;
		  overflow-x: hidden; /* 禁止横向滑动 */
		}
		body {
		  color: var(--text);
		  background: var(--bg);
		  font: 400 16px/1.65 -apple-system, BlinkMacSystemFont, "Segoe UI",
		        Roboto, "Noto Sans SC", "PingFang SC", "Hiragino Sans GB",
		        "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;
		}
		a { color: inherit; text-decoration: none; }
		button { font: inherit; cursor: pointer; }
		
		/* ====================
		   顶部导航栏
		==================== */
		.topbar {
		  position: sticky; top: 0;
		  height: var(--topbar-h);
		  display: flex; align-items: center; justify-content: space-between;
		  padding: 0 32px;
		  background: var(--bg);
		  border-bottom: 1px solid var(--border);
		  z-index: 20;
		}
		/* PC 端 Logo skeleton */
		.logo-skel {
		  width: 120px; height: 42px;
		  border-radius: 8px;
		  background: var(--skel);
		}
		/* 移动端汉堡按钮 */
		.hamburger {
		  width: 28px; height: 20px;
		  display: none; /* 默认隐藏，在移动端显示 */
		  flex-direction: column; justify-content: space-between;
		  cursor: default;
		}
		.hamburger span {
		  height: 3px; border-radius: 2px;
		  background: var(--text);
		}
		
		/* 搜索按钮 */
		.icon-btn {
		  width: 40px; height: 40px;
		  border: none; background: transparent;
		  border-radius: var(--radius-pill);
		  display: grid; place-items: center;
		}
		.icon-btn:hover { background: #f5f6f8; }
		
		/* 右上角头像 skeleton */
		.avatar-skel {
		  width: 40px; height: 40px;
		  border-radius: 50%;
		  background: var(--skel);
		}
		.top-actions { display: flex; align-items: center; gap: 8px; }
		
		/* ====================
		   主布局
		==================== */
		.layout {
		  max-width: 1200px;
		  margin: 0 auto;
		  display: grid;
		  grid-template-columns: var(--col-sidebar) minmax(0, var(--col-feed));
		  gap: 40px;
		  padding: 24px 32px;
		}
		
		/* 侧边栏 (桌面端显示) */
		.sidebar {
		  position: sticky; top: calc(var(--topbar-h) + 24px);
		  align-self: start;
		  border: 1px solid var(--border);
		  border-radius: var(--radius);
		  padding: 12px;
		  background: var(--card);
		}
		.nav { display: flex; flex-direction: column; gap: 6px; margin: 8px 0 12px; }
		.nav-item {
		  display: flex; align-items: center; gap: 12px;
		  padding: 10px 12px; border-radius: var(--radius-pill);
		  color: #16181c;
		}
		.nav-item:hover { background: #f3f4f6; }
		.nav-item.active { font-weight: 700; }
		
		/* ====================
		   帖子骨架
		==================== */
		.feed { width: 100%; }
		.card {
		  border: 1px solid var(--border);
		  border-radius: var(--radius);
		  background: var(--card);
		  box-shadow: var(--shadow);
		  padding: 20px;
		  margin-bottom: 24px;
		}
		.row { display: flex; align-items: center; gap: 12px; }
		.between { display: flex; justify-content: space-between; align-items: center; }
		
		/* Skeleton 基础形状 */
		.skel { background: var(--skel); border-radius: 8px; }
		.skel.avatar { width: 44px; height: 44px; border-radius: 50%; }
		.skel.dot { height: 10px; border-radius: 6px; }
		.skel.title { height: 20px; border-radius: 10px; margin-top: 8px; }
		.skel.line { height: 12px; border-radius: 8px; margin-top: 10px; }
		.skel.image { height: 200px; border-radius: 12px; margin-top: 14px; }
		.skel.chip { height: 28px; width: 74px; border-radius: 20px; }
		
		/* 宽度辅助类 */
		.w-20{width:20%}.w-30{width:30%}.w-40{width:40%}.w-50{width:50%}
		.w-60{width:60%}.w-70{width:70%}.w-80{width:80%}.w-90{width:90%}
		.grow { flex: 1; }
		
		/* ====================
		   响应式：移动端优化
		==================== */
		@media (max-width: 768px) {
		  /* 移动端：去掉 sidebar，只显示 feed */
		  .layout {
		    grid-template-columns: 1fr;
		    padding: 12px;
		  }
		  .sidebar { display: none; }
		
		  /* 顶部 bar 调整 */
		  .topbar { padding: 0 12px; }
		
		  /* PC Logo 隐藏，汉堡按钮显示 */
		  .logo-skel { display: none; }
		  .hamburger { display: flex; }
		}
	</style>
</head>
<body>
	<!-- 顶部导航 -->
	<header class="topbar">
		<!-- PC: logo skeleton | Mobile: 汉堡按钮 -->
		<div class="logo-skel" aria-hidden="true"></div>
		<div class="hamburger" aria-hidden="true">
			<span></span><span></span><span></span>
		</div>
		<!-- 右上角：搜索按钮 + 头像 skeleton -->
		<div class="top-actions">
			<button class="icon-btn" aria-label="搜索">
				<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<circle cx="11" cy="11" r="7"></circle>
					<line x1="16.5" y1="16.5" x2="21" y2="21"></line>
				</svg>
			</button>
			<div class="avatar-skel" aria-hidden="true"></div>
		</div>
	</header>
	<!-- 主布局 -->
	<div class="layout">
		<!-- 左侧边栏 (桌面端才显示) -->
		<aside class="sidebar">
			<nav class="nav">
				<a class="nav-item active" href="#">主页</a>
				<a class="nav-item" href="#">探索</a>
				<a class="nav-item" href="#">通知</a>
				<a class="nav-item" href="#">个人资料</a>
				<a class="nav-item" href="#">发布</a>
			</nav>
		</aside>
		<!-- 主内容区：仅 1 个骨架卡片 -->
		<main class="feed" aria-label="帖子骨架屏">
			<article class="card">
				<div class="row">
					<div class="skel avatar"></div>
					<div class="grow">
						<div class="skel dot w-30"></div>
						<div class="skel dot w-20" style="margin-top:6px"></div>
					</div>
				</div>
				<div class="skel title w-60"></div>
				<div class="skel line w-90"></div>
				<div class="skel line w-80"></div>
				<div class="skel image"></div>
			</article>
		</main>
	</div>
</body>
</html>
